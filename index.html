<!DOCTYPE html>
<html>

    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
        <!-- This is a wide open CSP declaration. To lock this down for production, see below. -->
        <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *" />
        <title>ERGOANALYSIS</title>
        <link rel="stylesheet" type="text/css" href="css/overrides.css" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/fileopener.js"></script>
        <!--    <script type="text/javascript" src="js/VideoCapturePlus.js"></script>-->
    </head>

    <body>
        <div class="app">
            <h1>VideoCapturePlus</h1>
            <div id="deviceready" class="blink">
                <p class="event listening">Connecting to Device</p>
                <p class="event received">Device is Ready</p>
            </div>
            <div id="pluginsDemoDiv">
                <p>
                    <button onclick="videoCapturePlusDemo(false,false,2)">LQ back 2s</button>
                    <br/><br/>
                    <button onclick="videoCapturePlusDemo(true,false,3)">HQ back 3s</button>
                    <br/><br/>
                    <button onclick="videoCapturePlusDemo(false,true,4)">LQ front 4s</button>
                    <br/><br/>
                    <button onclick="videoCapturePlusDemo(true,true,5)">HQ front 5s</button>
                    <br/><br/>
                    <button onclick="openFile();">Load 'crap.3gp'</button>
                </p>
                <div id="video_meta_container"></div>
                <div id="video_meta_container2"></div>
                <div id="video_container"></div>
            </div>
        </div>
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript" src="js/VideoCapturePlus.js"></script>
        <script type="text/javascript">
            app.initialize();


            function openFile() {
                alert('here we go');
                window.plugins.fileOpener.open("file:///storage/emulated/0/DCIM/Camera/crap.3gp");
            }

            function openFilePicker(selection) {

                var srcType = Camera.PictureSourceType.SAVEDPHOTOALBUM;
                var options = setOptions(srcType);
                var func = createNewFileEntry;

                navigator.camera.getPicture(function cameraSuccess(imageUri) {

                    // Do something

                }, function cameraError(error) {
                    console.debug("Unable to obtain picture: " + error, "app");

                }, options);
            }

            function setOptions(srcType) {
                var options = {
                    // Some common settings are 20, 50, and 100
                    quality: 50,
                    destinationType: Camera.DestinationType.FILE_URI,
                    // In this app, dynamically set the picture source, Camera or photo gallery
                    sourceType: srcType,
                    encodingType: Camera.EncodingType.JPEG,
                    mediaType: Camera.MediaType.PICTURE,
                    allowEdit: true,
                    correctOrientation: true  //Corrects Android orientation quirks
                }
                return options;
            }
        </script>
    </body>

</html>